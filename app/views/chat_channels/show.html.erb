<div class="container chatroom">

 <div data-controller="chatroom-subscription"
  data-chatroom-subscription-chatroom-id-value="<%=@channel.id%>"
  >
    <h3 class="messager"><%="#{User.find(@channel.user2_id).first_name} #{User.find(@channel.user2_id).last_name}" %></h3>

    <div class="messages" data-chatroom-subscription-target="messages">
      <% @messages.each do |message| %>
        <%= render "chat_channels/messages", message: message%>
      <% end %>
    </div>
    <div class="message-form">
      <%= simple_form_for [@chat_channel, @message], html: { data: { action: "turbo:submit-end->chatroom-subscription#resetForm" }},
      url: chat_channel_messages_path(@channel) do |f| %>
        <div class="input-wrapper">
          <%= f.input :content,
            label: false,
            placeholder: "Type something to send",
            class: "form-control"
          %>
        </div>
        <div class="button-wrapper">
          <%= f.submit "Send", class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>

</div>
